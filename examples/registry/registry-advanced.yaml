# Registry Advanced Example
#
# Demonstrates cross-server Agent Skills with two MCP servers. Skills can
# reference tools from different servers using the server__tool naming
# convention, enabling workflows that span server boundaries.
#
# Prerequisites:
#   Run `make mock-servers` from the project root to build the mock server.
#
# Usage:
#   gridctl deploy examples/registry/registry-advanced.yaml
#
# After deploying, copy the cross-server skill:
#   cp -r examples/registry/items/chained-calculation ~/.gridctl/registry/skills/
#
# Then activate it:
#   curl -X POST http://localhost:8180/api/registry/skills/chained-calculation/activate

version: "1"
name: registry-advanced

network:
  name: registry-advanced-net
  driver: bridge

mcp-servers:

  # Math server — same binary, registered under a different name.
  # Skills reference its tools as math-server__add, math-server__get_time.
  - name: math-server
    command: ["../_mock-servers/local-stdio-server/mock-stdio-server"]

  # Text server — provides echo for formatting/piping results.
  # Skills reference its tools as text-server__echo.
  - name: text-server
    command: ["../_mock-servers/local-stdio-server/mock-stdio-server"]
